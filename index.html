<head>
    <title>ShopTalk</title>
    <link rel = "stylesheet" type= "text/css" href = "css/bootstrap.css">
    <link rel = "stylesheet" type= "text/css" href = "css/bootstrap-theme.css">
    <link rel = "stylesheet" type= "text/css" href = "css/custom.css">
  <meta id="meta" name="viewport" content="width=device-width; initial-scale=1.0" />
</head> 
<body style = "background-color: black">

    <!-- Navigation -->
    <nav class="navbar navbar-default main-nav" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header navbar-header-text">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!-- navbar-brand is hidden on larger screens, but visible when the menu is collapsed -->
                <a onclick = "reload()" class="navbar-brand font-24 shoptalk-brand">SynergyGirl</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="navbar-collapse-1" >
                <ul class="nav navbar-nav pull-right drop-nav">
                    <li>
                        <a class = "shoptalk-brand font-16" data-toggle="modal" data-target="#reg-modal">Register</a>
                    </li>
                    <li>
                      <a class = "shoptalk-brand font-16" data-toggle="modal" data-target="#signin-modal">Sign in</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!--registration-->
    <div class="modal fade" id="reg-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="credential-panel" id = "reg-panel">
        <form class = "credential-form" id = "reg-form" action="chat.php" method="post">
            <h2 class = "sign-in font-24">Registration</h2>
              <hr style = "margin-top: 0px">
            <label class = "credential-label" style = "margin-top: 0px">First Name</label>
            <input class="reg-credential" name="firstname" type="text">
            <label class = "credential-label">Last Name</label>
            <input class="reg-credential" name="lastname" type="text">
            <label class = "credential-label">Email Address</label>
            <input class="reg-credential" name="email" type="text">
            <label class = "credential-label">Institution</label>               
            <input class="reg-credential" name="institution" type="text">
            <label class = "credential-label">User Name</label>
            <input class="reg-credential" name="username" type="text">
            <label class = "credential-label">Password</label>
            <input class="reg-credential passpop" id = "password" name="password" type="password" data-container="body" data-toggle="popover" data-placement="top" data-content="Password must be at least 8 characters long, contain at least one letter and at least 1 number.">
            <label class = "credential-label">Confirm Password</label>
            <input class="reg-credential" name="confirmpassword" type="password">
         <input type = "button" class="btn-default register-button" value = "Register" onclick = "return validateForm();">
        </form>
      </div>
    </div>
    <!--registration end-->

    <!--sign in-->
    <div class="modal fade" id="signin-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="card card-block">
          <div class="credential-panel signin-panel">
            <form class = "credential-form" action="#" method="post">
                <h2 class = "sign-in font-24">Sign in</h2>
                  <hr style = "margin-top: 0px">
                <label class = "credential-label">User Name</label>
                <input class="signin-credential" name="username" type="text" required><br>
                <label class = "credential-label">Password</label>
                <input class="signin-credential" name="password" type="password" required>
             <input type="submit" class="btn-default signin-button" value = "Submit">
            </form>
          </div>
        </div>
      </div>
    </div>
    <!--sign in end-->

    <div class = "jumbotron main-jumbo main-jumbo-shrink">
        <!--data-interval="false" prevents auto-transition-->
        <div id="myCarousel" class="carousel slide" data-interval="false" data-ride="carousel">
          <!-- Indicators -->
          <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
          </ol>

          <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">

                <div class="item active">
                    <h1 class = "text-center main-header">ShopTalk</h1>
                    <h2 class = "text-center main-header main-header-subtext">Interactive Tutoring System</h2>
                </div>

                <div class="item">
                    <h1 class = "text-center main-header">Private and Group Chat</h1>
                    <h2 class = "text-center main-header main-header-subtext">Learn new skills from your peers all in real-time</h2>
                </div>

                <div class="item">
                    <h1 class = "text-center main-header">Discussion Forum</h1>
                    <h2 class = "text-center main-header main-header-subtext">Share your thoughts and hear from others too</h2>
                </div>

            </div>

              <!-- Left and right controls -->
              <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
        </div>

    </div>

</body>

<footer>
  <div class="container-fluid">
        <p class="text-muted">Copyright 2017</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<script>  
$(document).ready(function() {  
   $("#myCarousel").swiperight(function() {  
      $("#myCarousel").carousel('prev');  
    });  
   $("#myCarousel").swipeleft(function() {  
      $("#myCarousel").carousel('next');  
   });  
});  
</script> 

<script>
function reload() {
    location.reload();
}
</script>

<script>
$('#myCarousel').on('click',function(){
    $('.collapse').collapse('hide');
})
</script>

<script>
$(function(){
    $("#password").focus(function() {
  $('[data-toggle="popover"]').popover()
});
});
</script>

<script>
$('.passpop').popover().click(function () {
    setTimeout(function () {
        $('.passpop').popover('hide');
    }, 3000);
});
</script>

    
<script>    
    function validateForm() {
        var fname = document.forms["reg-form"]["firstname"].value;
        var lname = document.forms["reg-form"]["lastname"].value;
        var email = document.forms["reg-form"]["email"].value;
        var inst = document.forms["reg-form"]["institution"].value;
        var user = document.forms["reg-form"]["username"].value;
        var pass = document.forms["reg-form"]["password"].value;
        var cpass = document.forms["reg-form"]["confirmpassword"].value;
        if (fname == "") {
            error()
            //alert("Name must be filled out");
            return false;
        } 
        else if (lname == "") {
            error()
            //alert("Email must be filled out");
            return false;
        }
        else if (email == "") {
            error()
            //alert("Email must be filled out");
            return false;
        }
        else if (inst == "") {
            error()
            //alert("Email must be filled out");
            return false;
        }
        else if (user == "") {
            error()
            //alert("Email must be filled out");
            return false;
        }else if (pass == "") {
            error()
            //alert("Email must be filled out");
            return false;
        } else if (cpass== "") {
            error()
            //alert("Message must be filled out");
            return false;
        } 
        else{
                var p = document.forms["reg-form"]["password"].value
                if (p.length < 8) {
                    alert("Your password must be at least 8 characters"); 
                    return false;
                }
                if(p.search(/[a-z]/i) < 0) {
                    alert("Your password must contain at least one letter.");
                    return false;
                }
                if (p.search(/[0-9]/) < 0) {
                    alert("Your password must contain at least one digit.");
                    return false;
                }
                else{
                    if(pass != cpass){
                    alert("Your passwords do not match.");
                    return false;
                    }
                    else{
                        return true;
                        submitForm();
                    }
                }
        }
    }
    
    function submitForm() {
        document.getElementById("reg-form").submit();
    }
    
    function error() {
        alert("All fields are required.");
    }
</script>
